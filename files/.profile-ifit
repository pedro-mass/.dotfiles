echo "loading profile-ifit..."

export WORK=~/dev/work
export WEBVIEW=$WORK/phoenix-webview
export API=$WORK/phoenix-api-service

# for ifit/ifit
export NODE_PATH="/Users/Pedro.Mass/dev/work/ifit"
# pyenv
eval "$(pyenv init -)"

alias cold-start="yarn && yarn start"
alias cs="cold-start"
alias cold-test="yarn && yarn test"
alias ct="cold-test"
alias review-setup="git checkout .; git checkout test; git update; git branches"
alias rs="review-setup"
alias review-setup-master="git checkout .; git checkout master; git update; git branches"
alias rsm="review-setup-master"
alias serveo="ssh -R 80:localhost:3000 serveo.net"

# code shortcuts
alias code-feed="code $WORK/full-stack-feed.code-workspace"
alias code-workouts="code $WORK/wolf-workouts/wolf-workouts.code-workspace"

function viper-mongo {
  mongo \
    --host galactica.ifit-dev.com \
    --port $1 \
    --ssl \
    --sslCAFile ~/.ssh/mongodb.ca.cert.pem \
    --sslPEMKeyFile ~/.ssh/mongodb.viper-user.key-and-cert.pem
}

function viper-mongo-test {
  viper-mongo 60000
}

push-dev () {
  B=$(git rev-parse --abbrev-ref HEAD)
  echo "Branch found: $B"

  if [[ $B != "dev" ]]; then
    git checkout dev
    git reset --hard $B
    git push --force
    echo "Pushed '$B' to 'dev'!"
    git checkout $B
  else
    echo "Can't push dev to dev"
  fi
}

echo "loaded profile-ifit."

